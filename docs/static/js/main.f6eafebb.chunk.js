(this.webpackJsonpsteps=this.webpackJsonpsteps||[]).push([[0],{20:function(e,t,c){},21:function(e,t,c){},28:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c.n(n),r=c(14),s=c.n(r),i=(c(20),c(21),c(4)),l=c(3),d=c(13),o=c(6),j=c(0),b={id:"",date:new Date,km:""},u=function(e){var t=e.onAddRow,c=Object(n.useState)(b),a=Object(o.a)(c,2),r=a[0],s=a[1];return Object(j.jsx)("div",{style:{margin:"20px 20px",width:"500px"},children:Object(j.jsx)("div",{children:Object(j.jsx)("form",{onSubmit:function(e){e.preventDefault(),t(r),s(b)},className:"container",children:Object(j.jsxs)("div",{className:"form row",style:{display:"flex",flexDirection:"row"},children:[Object(j.jsxs)("div",{className:"col",children:[Object(j.jsx)("label",{children:"\u0414\u0430\u0442\u0430 (\u043c\u043c-\u0434\u0434-\u0433\u0433\u0433\u0433) "}),Object(j.jsx)("input",{type:"date","data-date":"","data-date-format":"DD MMMM YYYY",value:r.date,id:"date",name:"date",onChange:function(e){var t=e.target,c=t.name,n=t.value;e.target.value.length>10?s((function(e){return Object(l.a)(Object(l.a)({},e),{},Object(i.a)({},c,"Error"))})):s((function(e){return Object(l.a)(Object(l.a)({},e),{},Object(i.a)({},c,n))}))},required:!0,style:{borderRadius:"6px"}})]}),Object(j.jsxs)("div",{className:"col",children:[Object(j.jsx)("label",{children:"\u041f\u0440\u043e\u0439\u0434\u0435\u043d\u043e \u043a\u043c (\u0447\u0438\u0441\u043b\u043e) "}),Object(j.jsx)("input",{value:r.km,id:"km",name:"km",type:"number",onChange:function(e){var t=e.target,c=t.name,n=t.value;s((function(e){return Object(l.a)(Object(l.a)({},e),{},Object(i.a)({},c,n))}))},required:!0,style:{borderRadius:"6px"}})]}),Object(j.jsx)("div",{className:"col",children:Object(j.jsx)("button",{className:"btn btn-secondary",style:{marginTop:"20px"},children:"OK"})})]})})})})};u.defaultProps={onAddRow:function(){}};var O=u,x=c(15),h=c.n(x),p=c(12),m=c(9),f=Object(j.jsx)(p.a,{icon:m.b}),v=Object(j.jsx)(p.a,{icon:m.a}),g=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)([]),s=Object(o.a)(r,2),b=s[0],u=s[1],x=Object(n.useCallback)((function(e){var t=[],n=!1;c.forEach((function(t){t.date===e.date&&(n=!0)})),(t=n?c.map((function(t){return t.date===e.date&&(t.km=parseInt(e.km)+parseInt(t.km)),t})):[].concat(Object(d.a)(c),[{id:h()(),date:e.date,km:e.km}])).sort((function(e,t){return e.date>t.date?1:t.date>e.date?-1:0})),a(t)}),[c,a]),p=Object(n.useCallback)((function(e){var t=c.filter((function(t){return t.id!==e}));a(t)}),[c,a]),m=Object(n.useCallback)((function(e){u((function(t){return t.find((function(t){return t===e.id}))?t.filter((function(t){return t!==e.id})):[].concat(Object(d.a)(t),[e.id])}))}),[u]),g=Object(n.useCallback)((function(e,t){var c=e.target.value,n=e.target.name;a((function(e){return e.map((function(e,a){return a===t?Object(l.a)(Object(l.a)({},e),{},Object(i.a)({},n,c)):e}))}))}),[]);return Object(j.jsxs)("div",{children:[Object(j.jsx)(O,{onAddRow:x}),Object(j.jsx)("div",{className:"table",style:{textAlign:"center",margin:"10px 10px",borderRadius:"15px",height:"80vh",width:"600px"},children:Object(j.jsxs)("table",{children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{className:"row",style:{border:"none"},children:[Object(j.jsx)("th",{scope:"col",align:"center",className:"col",style:{width:"120px"},children:"\u0414\u0430\u0442\u0430"}),Object(j.jsx)("th",{scope:"col",align:"center",className:"col",style:{width:"120px"},children:"\u0420\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435"}),Object(j.jsx)("th",{scope:"col",align:"center",className:"col",style:{width:"120px"},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(j.jsx)("th",{scope:"col",align:"center",className:"col",style:{width:"120px"},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})}),Object(j.jsx)("tbody",{children:c.map((function(e,t){var c=b.includes(e.id);return Object(j.jsxs)("tr",{className:"row table-tr",style:{backgroundColor:c?"yellow":"transparent",border:"none",width:"500px",margin:"10px 10px"},children:[Object(j.jsx)("th",{scope:"row"}),Object(j.jsx)("td",{className:"col",style:{width:"120px"},children:c?Object(j.jsx)("input",{type:"date",name:"date",defaultValue:e.date,onChange:function(e){return e.target.value.length>10?console.log("error"):g(e,t)}}):e.date}),Object(j.jsx)("td",{className:"col",style:{width:"120px"},children:c?Object(j.jsx)("input",{type:"number",name:"km",defaultValue:e.km,onChange:function(e){return g(e,t)}}):e.km}),Object(j.jsx)("td",{className:"col",style:{width:"120px"},children:Object(j.jsx)("button",{onClick:function(){return m(e)},children:v})}),Object(j.jsx)("td",{className:"col",style:{width:"120px"},children:Object(j.jsx)("button",{onClick:function(){return p(e.id)},children:f})})]},e.id)}))})]})})]})};var y=function(){return Object(j.jsx)("div",{className:"App",children:Object(j.jsx)(g,{})})};s.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(y,{})}),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.f6eafebb.chunk.js.map